{"version":3,"sources":["../../src/plugins/addStartEndCursor.js"],"names":["base64","str","Buffer","String","toString","cursorify","val","__cursor","JSON","stringify","addStartEndCursor","value","data","length","startCursor","endCursor","Object","assign"],"mappings":";;;;;;AAEA,MAAMA,SAASC,OAAO,IAAIC,MAAJ,CAAWC,OAAOF,GAAP,CAAX,EAAwBG,QAAxB,CAAiC,QAAjC,CAAtB;;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOA,OAAOA,IAAIC,QAAX,GAAsBP,OAAOQ,KAAKC,SAAL,CAAeH,IAAIC,QAAnB,CAAP,CAAtB,GAA6D,IAApE;AACD;;kBAEe,SAASG,iBAAT,CAA2BC,KAA3B,EAAkC;AAChD,QAAMC,OAAOD,SAASA,MAAMC,IAAf,IAAuBD,MAAMC,IAAN,CAAWC,MAAlC,GAA2CF,MAAMC,IAAjD,GAAwD,IAArE;AACA,QAAME,cAAcT,UAAUO,QAAQA,KAAK,CAAL,CAAlB,CAApB;AACA,QAAMG,YAAYV,UAAUO,QAAQA,KAAKD,MAAMC,IAAN,CAAWC,MAAX,GAAoB,CAAzB,CAAlB,CAAlB;AACA,SAAOG,OAAOC,MAAP,CAAc,EAAd,EAAkBN,KAAlB,EAAyB;AAC9BG,eAD8B;AAE9BC;AAF8B,GAAzB,CAAP;AAID,C","file":"addStartEndCursor.js","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\nconst base64 = str => new Buffer(String(str)).toString(\"base64\");\n\nfunction cursorify(val) {\n  return val && val.__cursor ? base64(JSON.stringify(val.__cursor)) : null;\n}\n\nexport default (function addStartEndCursor(value) {\n  const data = value && value.data && value.data.length ? value.data : null;\n  const startCursor = cursorify(data && data[0]);\n  const endCursor = cursorify(data && data[value.data.length - 1]);\n  return Object.assign({}, value, {\n    startCursor,\n    endCursor,\n  });\n}: Plugin);\n"]}